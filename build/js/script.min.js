!function(){var t=document.querySelector(".body"),o=document.querySelector(".fonts");document.addEventListener("DOMContentLoaded",function(){var e=localStorage.getItem("fontFamily");e&&(t.style.fontFamily=e,o.value=e)}),o.addEventListener("change",function(){t.style.fontFamily=o.value,localStorage.setItem("fontFamily",o.value)})}();var notice=document.querySelector(".notice"),showNotice=function(e){notice.textContent=e,notice.classList.toggle("notice--active",!0),setTimeout(function(){notice.classList.toggle("notice--active",!1)},3e3)};window.notice.show=showNotice;var setToStorage=function(e){localStorage.setItem(e.id,JSON.stringify(e))},getFromStorage=function(e){return JSON.parse(localStorage.getItem(e))},removeFromStorage=function(e){localStorage.removeItem(e)},clearStorage=function(){for(key in localStorage)"fontFamily"!==key&&removeFromStorage(key)};window.storage={set:setToStorage,get:getFromStorage,remove:removeFromStorage,clear:clearStorage};var gapi=window.gapi=window.gapi||{};gapi._bs=(new Date).getTime(),function(){var C,t=this||self,e=function(e){return e},D=window,k=document,o=D.location,L=function(){},n=/\[native code\]/,T=function(e,t,o){return e[t]=e[t]||o},O=function(){var e;if((e=Object.create)&&n.test(e))e=e(null);else for(var t in e={})e[t]=void 0;return e},P=T(D,"gapi",{});C=T(D,"___jsl",O()),T(C,"I",0),T(C,"hel",10);var A=function(){var e=o.href;if(C.dpo)var t=C.h;else{t=C.h;if(e=e&&(/([#].*&|[#])jsh=([^&#]*)/g.exec(e)||/([?#].*&|[?#])jsh=([^&#]*)/g.exec(e)))try{t=decodeURIComponent(e[2])}catch(e){}}return t},q=function(e){return T(T(C,"H",O()),e,O())},r=T(C,"perf",O()),i=T(r,"g",O()),a=T(r,"i",O());T(r,"r",[]),O(),O();var s=function(e,t,o){var n=r.r;"function"==typeof n?n(e,t,o):n.push([e,t,o])},B=function(e,t,o){t&&0<t.length&&(t=l(t),o&&0<o.length&&(t+="___"+l(o)),28<t.length&&(t=t.substr(0,28)+(t.length-28)),o=t,t=T(a,"_p",O()),T(t,o,O())[e]=(new Date).getTime(),s(e,"_p",o))},l=function(e){return e.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},R=O(),p=[],j=function(e){throw Error("Bad hint"+(e?": "+e:""))};p.push(["jsl",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var o=e[t];"object"==typeof o?C[t]=T(C,t,[]).concat(o):T(C,t,o)}(t=e.u)&&((e=T(C,"us",[])).push(t),(t=/^https:(.*)$/.exec(t))&&e.push("http:"+t[1]))}]);var c=/^(\/[a-zA-Z0-9_\-]+)+$/,u=[/\/amp\//,/\/amp$/,/^\/amp$/],d=/^[a-zA-Z0-9\-_\.,!]+$/,g=/^gapi\.loaded_[0-9]+$/,m=/^[a-zA-Z0-9,._-]+$/,h=function(e){"/"!==e.charAt(0)&&j("relative path");for(var t=e.substring(1).split("/"),o=[];t.length;){if((e=t.shift()).length&&0!=e.indexOf(".")){if(0<e.indexOf("=")){t.unshift(e);break}}else j("empty/relative directory");o.push(e)}e={};for(var n=0,r=t.length;n<r;++n){var i=t[n].split("="),a=decodeURIComponent(i[0]),s=decodeURIComponent(i[1]);2==i.length&&a&&s&&(e[a]=e[a]||s)}for(t="/"+o.join("/"),c.test(t)||j("invalid_prefix"),o=0,n=u.length;o<n;++o)u[o].test(t)&&j("invalid_prefix");return{pathPrefix:t,version:o=v(e,"k",!0),a:n=v(e,"am"),c:r=v(e,"rs"),f:e=v(e,"t")}},f=function(e){for(var t=[],o=0,n=e.length;o<n;++o){var r=e[o].replace(/\./g,"_").replace(/-/g,"_");m.test(r)&&t.push(r)}return t.join(",")},v=function(e,t,o){if(!(e=e[t])&&o&&j("missing: "+t),e){if(d.test(e))return e;j("invalid: "+t)}return null},U=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,F=/\/cb=/g,M=/\/\//g;R.m=function(e,t,o,n){return(e=e[0])||j("missing_hint"),"https://apis.google.com"+function(e,t,o,n){e=h(e),g.test(o)||j("invalid_callback"),t=f(t),n=n&&n.length?f(n):null;var r=function(e){return encodeURIComponent(e).replace(/%2C/g,",")};return[encodeURIComponent(e.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",r(e.version),"/m=",r(t),n?"/exm="+r(n):"","/rt=j/sv=1/d=1/ed=1",e.a?"/am="+r(e.a):"",e.c?"/rs="+r(e.c):"",e.f?"/t="+r(e.f):"","/cb=",r(o)].join("")}(e,t,o,n)};var N=decodeURI("%73cript"),_=/^[-+_0-9\/A-Za-z]+={0,2}$/,z=function(e,t){for(var o=[],n=0;n<e.length;++n){var r,i=e[n];if(r=i){e:{for(r=0;r<t.length;r++)if(t[r]===i)break e;r=-1}r=r<0}r&&o.push(i)}return o},Z=function(){var e=C.nonce;return void 0!==e?e&&e===String(e)&&e.match(_)?e:C.nonce=null:k.querySelector&&(e=k.querySelector("script[nonce]"))?(e=e.nonce||e.getAttribute("nonce")||"")&&e===String(e)&&e.match(_)?C.nonce=e:C.nonce=null:null},$=function(e){var t=k.createElement(N);t.setAttribute("src",H?H.createScriptURL(e):e),null!==(e=Z())&&t.setAttribute("nonce",e),t.async="true",(e=k.getElementsByTagName(N)[0])?e.parentNode.insertBefore(t,e):(k.head||k.body||k.documentElement).appendChild(t)},w=function(e,t){var o=t||{};"function"==typeof t&&((o={}).callback=t),function(e,t){var o=t&&t._c;if(o)for(var n=0;n<p.length;n++){var r=p[n][0],i=p[n][1];i&&Object.prototype.hasOwnProperty.call(o,r)&&i(o[r],e,t)}}(e,o),t=e?e.split(":"):[];var n=o.h||function(){var e=A();if(!e)throw Error("Bad hint");return e}(),r=T(C,"ah",O());if(r["::"]&&t.length){e=[];for(var i=null;i=t.shift();){var a=i.split(".");a=r[i]||r[a[1]&&"ns:"+a[0]||""]||n;var s=e.length&&e[e.length-1]||null,l=s;s&&s.hint==a||(l={hint:a,b:[]},e.push(l)),l.b.push(i)}var c=e.length;if(1<c){var u=o.callback;u&&(o.callback=function(){0==--c&&u()})}for(;t=e.shift();)y(t.b,o,t.hint)}else y(t||[],o,n)},y=function(e,t,i){e=function(e){e=e.sort();for(var t=[],o=void 0,n=0;n<e.length;n++){var r=e[n];r!=o&&t.push(r),o=r}return t}(e)||[];var n=t.callback,a=t.config,o=t.timeout,r=t.ontimeout,s=t.onerror,l=void 0;"function"==typeof s&&(l=s);var c=null,u=!1;if(o&&!r||!o&&r)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";s=T(q(i),"r",[]).sort();var p=T(q(i),"L",[]).sort(),d=[].concat(s),g=function(e,t){if(u)return 0;D.clearTimeout(c),p.push.apply(p,S);var o,n,r=((P||{}).config||{}).update;if(r?r(a):a&&T(C,"cu",[]).push(a),t){B("me0",e,d);try{o=t,n=i,J(function(){var e=n===A()?T(P,"_",O()):O();e=T(q(n),"_",e),o(e)},l)}finally{B("me1",e,d)}}return 1};0<o&&(c=D.setTimeout(function(){u=!0,r()},o));var m,h,f,v,_,w,y,b,S=z(e,p);if(S.length){S=z(e,s);var E=T(C,"CP",[]),I=E.length;if(E[I]=function(t){if(!t)return 0;B("ml1",S,d);var e=function(e){E[I]=null,g(S,t)&&function(e){var t=T(C,"PQ",[]);C.PQ=[];var o=t.length;if(0===o)e();else for(var n=0,r=function(){++n===o&&e()},i=0;i<o;i++)t[i](r)}(function(){n&&n(),e()})},o=function(){var e=E[I+1];e&&e()};0<I&&E[I-1]?E[I]=function(){e(o)}:e(o)},S.length){var x="loaded_"+C.I++;P[x]=function(e){E[I](e),P[x]=null},h=S,f="gapi."+x,v=s,_=(m=i).split(";"),w=_.shift(),y=R[w],b=null,y?b=y(_,h,f,v):j("no hint processor for: "+w),b||j("failed to generate load url"),f=(h=b).match(M),(v=h.match(F))&&1===v.length&&U.test(h)&&f&&1===f.length||j("failed sanity: "+m),e=b,s.push.apply(s,S),B("ml0",S,d),t.sync||D.___gapisync?function(e){if("loading"!=k.readyState)$(e);else{var t=Z(),o="";null!==t&&(o=' nonce="'+t+'"'),e="<"+N+' src="'+encodeURI(e)+'"'+o+"></"+N+">",k.write(H?H.createHTML(e):e)}}(e):$(e)}else E[I](L)}else g(S)&&n&&n()},b=null,S=t.trustedTypes;if(S&&S.createPolicy)try{b=S.createPolicy("gapi#gapi",{createHTML:e,createScript:e,createScriptURL:e})}catch(e){t.console&&t.console.error(e.message)}var H=b,J=function(e,o){if(C.hee&&0<C.hel)try{return e()}catch(t){o&&o(t),C.hel--,w("debug_error",function(){try{window.___jsl.hefn(t)}catch(e){throw t}})}else try{return e()}catch(e){throw o&&o(e),e}};P.load=function(e,t){return J(function(){return w(e,t)})},i.bs0=window.gapi._bs||(new Date).getTime(),s("bs0"),i.bs1=(new Date).getTime(),s("bs1"),delete window.gapi._bs}.call(this),gapi.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"mobile","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!0}},isPlusUser:!1,inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},isLoggedIn:!0,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"ru",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},sharetoclassroom:{url:"https://www.gstatic.com/classroom/sharewidget/widget_stable.html?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://gsuite.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.ru.bUeeCwQBnSs.O/am=wQE/d=1/ct=zgms/rs=AGLTcCN3OgtCqv3yH2CsRpixf2GBGKb06Q/m=__features__",u:"https://apis.google.com/js/api.js",hee:!0,fp:"8a45d50662317d0fcf3bf2df0618d210a4955da8",dpo:!1},fp:"8a45d50662317d0fcf3bf2df0618d210a4955da8",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}}),window.myTodo={},function(){var t,r=function(){this.element.classList.toggle("d-none",!1);var e=new CustomEvent("modalOpened",{cancelable:!0,bubbles:!0});this.element.dispatchEvent(e),t=function(e){"Escape"===e.key&&i.bind(this)()}.bind(this),document.addEventListener("keydown",t)},i=function(){this.element.classList.toggle("d-none",!0);var e=new CustomEvent("modalClosed",{cancelable:!0,bubbles:!0});this.element.dispatchEvent(e),document.removeEventListener("keydown",t)},e=function(e){var t=this;this.element=document.querySelector(e.modal);var o=document.querySelectorAll(e.openButtons),n=this.element.querySelectorAll(".modal__close");0<(this.openButtons=o).length&&o.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),r.bind(t)()})}),0<n.length&&n.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),i.bind(t)()})})};e.prototype={open:r,close:i},window.Modal=e}();var UTC="+03:00",TIMEZONE="Europe/Moscow",createPopup=new Modal({modal:".create",openButtons:".add-button"}),formatDateTime=function(e,t){return e+"T"+t+":00"+UTC},CalendarEvent=function(e){this.summary=e.get("summary"),this.start={},this.end={},e.get("start-time")&&e.get("start-time")?(this.start.dateTime=formatDateTime(e.get("start-date"),e.get("start-time")),this.end.dateTime=formatDateTime(e.get("end-date"),e.get("end-time"))):(this.start.date=e.get("start-date"),this.end.date=e.get("end-date")),this.start.timeZone=TIMEZONE,this.end.timeZone=TIMEZONE,this.location=e.get("location")||"",this.description=e.get("description")||""},sendEvent=function(e){var t=new CalendarEvent(e);gapi.client.calendar.events.insert({calendarId:"primary",resource:t}).execute(function(e){e.id?(storage.set(e),createPopup.close(),form.reset(),console.log("Event ID: "+e.id),console.log("Event link: "+e.htmlLink),notice.show("Успешно сохранено")):notice.show("Произошла ошибка. Проверьте, правильно ли вы ввели данные.")})};window.create={open:createPopup.open,close:createPopup.close,send:sendEvent};var authPopup=new Modal({modal:".auth"}),CLIENT_ID="275521875892-icq30gfodvskd45gmn0gkaebeuqko36d.apps.googleusercontent.com",API_KEY="AIzaSyAMYDRrik_DUzxORRSm5BJFUuzjiJkZlO8",DISCOVERY_DOCS=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],SCOPES="https://www.googleapis.com/auth/calendar",authorizeButton=document.getElementById("auth-button"),signoutButton=document.getElementById("signout-button");function handleClientLoad(){gapi.load("client:auth2",initClient)}function initClient(){gapi.client.init({apiKey:API_KEY,clientId:CLIENT_ID,discoveryDocs:DISCOVERY_DOCS,scope:SCOPES}).then(function(){gapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus),updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get()),authorizeButton.onclick=handleAuthClick,signoutButton.onclick=handleSignoutClick},function(e){console.log(JSON.stringify(e,null,2))})}function updateSigninStatus(e){e&&(list.update(),authPopup.close())}function handleAuthClick(e){gapi.auth2.getAuthInstance().signIn()}function handleSignoutClick(e){gapi.auth2.getAuthInstance().signOut(),authPopup.open()}window.auth={handleClientLoad:handleClientLoad},document.addEventListener("DOMContentLoaded",function(){handleClientLoad()});var form=document.querySelector(".form"),saveButton=form.querySelector(".form__save"),typeButtons=form.elements.type,currentType="",allDay=form.querySelector(".form__all-day"),dates=form.querySelectorAll(".form__date"),times=form.querySelectorAll(".form__time"),formValid=!0;typeButtons.forEach(function(e){e.addEventListener("change",function(){e.checked&&(form.classList.remove("form--"+currentType),currentType=e.value,form.classList.add("form--"+currentType))})}),allDay.addEventListener("change",function(){form.classList.toggle("form--all-day")});var formatDate=function(e){return e.toISOString().substr(0,10)},setDefaultDate=function(){var t=formatDate(new Date);dates.forEach(function(e){e.value=t})};createPopup.openButtons.forEach(function(e){e.addEventListener("click",function(){setDefaultDate()})});var TIME_ROUNDING_STEP=30,onFormSubmit=function(e){e.preventDefault();var t=new FormData(form);create.send(t)};form.addEventListener("submit",onFormSubmit);var template=document.querySelector("#template"),itemTemplate=template.content.querySelector(".my-todo__item"),itemsList=document.querySelector(".my-todo__list"),currentDate=document.querySelector(".current-date"),createEventItem=function(t){var o=itemTemplate.cloneNode("true"),e=o.querySelector(".my-todo__delete");return o.querySelector(".my-todo__summary").textContent=t.summary,e.addEventListener("click",function(e){e.preventDefault(),itemsList.removeChild(o),storage.remove(t.id)}),o},renderEventItems=function(e){var t=document.createDocumentFragment();e.forEach(function(e){t.appendChild(createEventItem(e)),storage.set(e)}),itemsList.appendChild(t)};function dni(){var e=new Date(1999,11,31);e.setDate(e.getDate()+3),alert(e)}var listSettings={calendarId:"primary",timeMin:(new Date).toISOString(),showDeleted:!1,singleEvents:!0,maxResults:10,orderBy:"startTime"},ListSettings=function(e){this.calendarId="primary",this.timeMin="current Date",this.timeMax="current Date",this.singleEvents=!0,this.orderBy="startTime"},listEvents=function(){gapi.client.calendar.events.list(listSettings).then(function(e){var t=e.result.items;console.log(t),0<t.length?(storage.clear(),renderEventItems(t)):notice.show("Запланированных на сегодня событий не найдено")})},onListDateChange=function(){var e=new Date(this.value);e.setHours(e.getHours()-3),e.setHours(e.getHours()+21)};function appendPre(e){var t=document.getElementById("content"),o=document.createTextNode(e+"\n");t.appendChild(o)}currentDate.addEventListener("change",onListDateChange),window.list={update:listEvents},window.alert={show:appendPre};var deleteSettings={calendarId:"primary",eventId:"k731e93gqrhn7183dsd7mm0jtc"},deleteEvent=function(){return gapi.client.calendar.events.delete(deleteSettings).then(function(e){console.log("Response",e)},function(e){console.error("Execute error",e)})};
//# sourceMappingURL=script.min.js.map
